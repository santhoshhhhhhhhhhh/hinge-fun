<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Very Serious Study</title>

  <style>
    :root{
      --bg1:#ff4d8d;
      --bg2:#ffb3d1;
      --bg3:#7c4dff;
      --card: rgba(255,255,255,.78);
      --cardBorder: rgba(255,255,255,.35);
      --text:#1d1d1f;
      --muted:#5a5a66;
      --btn:#ff2e79;
      --btn2:#7c4dff;
      --shadow: 0 20px 60px rgba(0,0,0,.18);
    }

    *{ box-sizing:border-box; }
    html,body{ height:100%; }
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Apple Color Emoji", "Segoe UI Emoji";
      color:var(--text);
      overflow:hidden;
      display:flex;
      align-items:center;
      justify-content:center;
      background:
        radial-gradient(1200px 600px at 15% 20%, rgba(255,255,255,.25), transparent 60%),
        radial-gradient(900px 500px at 85% 75%, rgba(255,255,255,.18), transparent 55%),
        linear-gradient(120deg, var(--bg1), var(--bg2), var(--bg3));
      background-size: 200% 200%;
      animation: bgShift 10s ease-in-out infinite;
      padding: 18px;
    }
    @keyframes bgShift{
      0%{ background-position: 0% 50%; }
      50%{ background-position: 100% 50%; }
      100%{ background-position: 0% 50%; }
    }

    .blob{
      position:absolute;
      filter: blur(20px);
      opacity:.45;
      border-radius: 999px;
      z-index:0;
      mix-blend-mode: screen;
      animation: floaty 10s ease-in-out infinite;
    }
    .b1{ width:260px; height:260px; left:-60px; top:40px; background:#fff; animation-duration: 11s; }
    .b2{ width:220px; height:220px; right:-80px; top:120px; background:#ffd6e7; animation-duration: 13s; }
    .b3{ width:280px; height:280px; right:20px; bottom:-120px; background:#cbb6ff; animation-duration: 15s; }
    @keyframes floaty{
      0%,100%{ transform: translate(0,0) scale(1); }
      50%{ transform: translate(18px,-14px) scale(1.05); }
    }

    .wrap{
      position:relative;
      width:100%;
      max-width: 430px;
      z-index:1;
    }

    .card{
      width:100%;
      background: var(--card);
      border: 1px solid var(--cardBorder);
      border-radius: 18px;
      box-shadow: var(--shadow);
      backdrop-filter: blur(14px);
      -webkit-backdrop-filter: blur(14px);
      padding: 22px 18px 16px;
      transform: translateY(0);
      animation: popIn .45s ease-out;
      position: relative;
    }
    @keyframes popIn{
      from{ opacity:0; transform: translateY(14px) scale(.985); }
      to{ opacity:1; transform: translateY(0) scale(1); }
    }

    .topbar{
      display:flex;
      align-items:center;
      justify-content:space-between;
      margin-bottom: 10px;
      gap:10px;
    }
    .chip{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding: 8px 10px;
      border-radius: 999px;
      background: rgba(255,255,255,.55);
      border: 1px solid rgba(255,255,255,.35);
      font-weight: 700;
      font-size: 12px;
      color: rgba(20,20,25,.82);
      white-space: nowrap;
    }
    .rightTop{
      display:flex;
      gap:8px;
      align-items:center;
    }
    .dots{
      display:flex; gap:6px; align-items:center;
      padding: 8px 10px;
      border-radius: 999px;
      background: rgba(255,255,255,.55);
      border: 1px solid rgba(255,255,255,.35);
    }
    .dot{
      width:8px; height:8px; border-radius:999px;
      background: rgba(30,30,40,.25);
    }
    .dot.on{ background: rgba(30,30,40,.85); }

    .soundToggle{
      border: 1px solid rgba(255,255,255,.35);
      background: rgba(255,255,255,.55);
      border-radius: 999px;
      padding: 8px 10px;
      font-weight: 800;
      font-size: 12px;
      cursor: pointer;
      user-select: none;
      white-space: nowrap;
    }
    .soundToggle:hover{ filter: brightness(1.02); }

    h1{
      margin: 6px 0 6px;
      font-size: 22px;
      line-height: 1.15;
      letter-spacing: -0.2px;
    }
    p{
      margin: 8px 0;
      color: var(--muted);
      font-size: 14.5px;
      line-height: 1.35;
    }
    .sub{
      margin-top: 2px;
      font-size: 13px;
      color: rgba(60,60,70,.65);
    }

    .btns{
      margin-top: 14px;
      display:flex;
      flex-direction:column;
      gap:10px;
    }
    button{
      width:100%;
      border: 0;
      border-radius: 14px;
      padding: 12px 14px;
      font-size: 15.5px;
      font-weight: 800;
      cursor:pointer;
      transition: transform .08s ease, filter .18s ease, box-shadow .18s ease;
      color: white;
      background: linear-gradient(135deg, var(--btn), #ff6aa0);
      box-shadow: 0 10px 22px rgba(255, 46, 121, .25);
    }
    button:hover{ filter: brightness(1.03); box-shadow: 0 12px 26px rgba(255, 46, 121, .32); }
    button:active{ transform: translateY(1px) scale(.99); }

    .btnAlt{
      background: linear-gradient(135deg, var(--btn2), #a78bfa);
      box-shadow: 0 10px 22px rgba(124, 77, 255, .22);
    }
    .btnAlt:hover{ box-shadow: 0 12px 26px rgba(124, 77, 255, .30); }

    .footer{
      margin-top: 14px;
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap: 10px;
      padding-top: 10px;
      border-top: 1px solid rgba(255,255,255,.35);
      color: rgba(55,55,65,.65);
      font-size: 12px;
    }
    .tiny{
      opacity:.9;
      font-weight: 700;
    }

    .confetti{
      position:absolute;
      inset:0;
      pointer-events:none;
      overflow:hidden;
      border-radius: 18px;
    }
    .confetti i{
      position:absolute;
      width:10px; height:14px;
      border-radius: 3px;
      top:-20px;
      opacity: .95;
      animation: fall 1.25s ease-in forwards;
      transform: rotate(10deg);
    }
    @keyframes fall{
      to{
        top: 110%;
        transform: translateY(0) rotate(250deg);
        opacity: 1;
      }
    }

    .results{
      text-align:left;
      margin-top: 10px;
      background: rgba(255,255,255,.55);
      border: 1px solid rgba(255,255,255,.35);
      border-radius: 14px;
      padding: 12px;
      color: rgba(35,35,45,.9);
      font-size: 13.5px;
      line-height: 1.35;
    }
    .results b{ color: rgba(25,25,35,.95); }
    .results .item{ margin: 6px 0; }

    .slideOut{ animation: slideOut .16s ease-in forwards; }
    @keyframes slideOut{
      to{ opacity:0; transform: translateY(10px) scale(.99); }
    }
  </style>
</head>

<body>
  <div class="blob b1"></div>
  <div class="blob b2"></div>
  <div class="blob b3"></div>

  <div class="wrap">
    <div class="card" id="card">
      <div class="confetti" id="confetti"></div>

      <div class="topbar">
        <div class="chip">üß™ Very Serious Study</div>

        <div class="rightTop">
          <div class="dots" id="dots">
            <span class="dot on"></span>
            <span class="dot"></span>
            <span class="dot"></span>
            <span class="dot"></span>
            <span class="dot"></span>
            <span class="dot"></span>
          </div>
          <div id="soundToggle" class="soundToggle" onclick="toggleSound()">üîä Sound</div>
        </div>
      </div>

      <div id="content">
        <h1>Important announcement.</h1>
        <p>This will take <b>exactly 15 seconds</b> and includes <b>zero life-changing decisions</b>.</p>
        <p class="sub">Tip: if sound doesn‚Äôt work on iPhone, unmute + tap once.</p>

        <div class="btns">
          <button class="btnAlt" onclick="q1()">I accept responsibility ‚Üí</button>
        </div>

        <div class="footer">
          <span class="tiny">Level: mildly sarcastic</span>
          <span>v1.2</span>
        </div>
      </div>
    </div>
  </div>

  <!-- Minimal sounds (user-controlled). iOS sometimes requires a first-tap "unlock". -->
  <audio id="sClick" preload="auto" playsinline>
    <source src="https://assets.mixkit.co/sfx/preview/mixkit-modern-click-box-check-1120.mp3" type="audio/mpeg">
  </audio>
  <audio id="sWin" preload="auto" playsinline>
    <source src="https://assets.mixkit.co/sfx/preview/mixkit-achievement-bell-600.mp3" type="audio/mpeg">
  </audio>

  <script>
    let step = 0;
    let answers = [];

    // Sound control (minimal + optional)
    let soundOn = true;
    let audioUnlocked = false;

    function toggleSound(){
      soundOn = !soundOn;
      const t = document.getElementById("soundToggle");
      if (t) t.textContent = soundOn ? "üîä Sound" : "üîá Muted";
    }

    async function unlockAudioOnce() {
      if (audioUnlocked) return;
      audioUnlocked = true;

      const ids = ["sClick", "sWin"];
      for (const id of ids) {
        const a = document.getElementById(id);
        if (!a) continue;
        try {
          a.volume = 0.0; // silent unlock
          await a.play();
          a.pause();
          a.currentTime = 0;
          a.volume = 0.35;
        } catch (e) {
          audioUnlocked = false; // retry on next tap
        }
      }
    }

    function play(id){
      if (!soundOn) return;
      const a = document.getElementById(id);
      if (!a) return;

      a.currentTime = 0;
      a.volume = 0.35; // minimal
      a.play().catch(() => {
        audioUnlocked = false;
      });
    }

    const dotCount = 6; // intro + 5 questions
    function setDots(n){
      const dots = document.querySelectorAll("#dots .dot");
      dots.forEach((d,i)=> d.classList.toggle("on", i <= n));
    }

    function transitionTo(html){
      const card = document.getElementById("card");
      const content = document.getElementById("content");
      card.classList.add("slideOut");
      setTimeout(()=>{
        content.innerHTML = html;
        card.classList.remove("slideOut");
      }, 170);
    }

    function record(label, nextFn){
      unlockAudioOnce();       // iOS "first tap" unlock
      play("sClick");          // minimal click
      answers.push(label);
      nextFn();
    }

    function q1(){
      step = 1; setDots(step);
      transitionTo(`
        <h1>First question.</h1>
        <p>Please don‚Äôt overthink it. <br><span class="sub">(Everyone overthinks it.)</span></p>
        <div class="btns">
          <button onclick="record('üçø Staying in (movie night)', q2)">üçø Staying in with a good movie</button>
          <button onclick="record('üåÆ Going out ‚Äújust to eat‚Äù', q2)">üåÆ Going out ‚Äújust to eat‚Äù</button>
          <button onclick="record('üöó Random drives (no destination)', q2)">üöó Random drives, no destination</button>
          <button onclick="record('üõå Cancel plans (zero regret)', q2)">üõå Cancelling plans, zero regret</button>
        </div>
        <div class="footer">
          <span class="tiny">Pick one. No speeches.</span>
          <span>1/5</span>
        </div>
      `);
    }

    function q2(){
      step = 2; setDots(step);
      transitionTo(`
        <h1>Noted.</h1>
        <p>Second question: <b>your vibe</b> in one button.</p>
        <div class="btns">
          <button class="btnAlt" onclick="record('üòÑ Sarcastic but harmless', q3)">üòÑ Sarcastic but harmless</button>
          <button onclick="record('üß† Quietly judging everything', q3)">üß† Quietly judging everything</button>
          <button onclick="record('üî• Slightly chaotic (fun version)', q3)">üî• Slightly chaotic (fun version)</button>
          <button onclick="record('üò¥ I‚Äôll reply later energy', q3)">üò¥ I‚Äôll reply later energy</button>
        </div>
        <div class="footer">
          <span class="tiny">I‚Äôm collecting data for science.</span>
          <span>2/5</span>
        </div>
      `);
    }

    function q3(){
      step = 3; setDots(step);
      transitionTo(`
        <h1>One more.</h1>
        <p>Pick your <b>comfort cuisine</b>. Choose wisely. Or don‚Äôt.</p>
        <div class="btns">
          <button onclick="record('üçù Italian / pasta forever', q4)">üçù Italian / pasta forever</button>
          <button onclick="record('üåÆ Mexican / street food', q4)">üåÆ Mexican or street food</button>
          <button onclick="record('üçú Asian food (ramen/dumplings/etc.)', q4)">üçú Asian food (ramen, dumplings, etc.)</button>
          <button class="btnAlt" onclick="record('üçï Anything as long as it tastes good', q4)">üçï Anything as long as it tastes good</button>
        </div>
        <div class="footer">
          <span class="tiny">This answer will be used against you (joking).</span>
          <span>3/5</span>
        </div>
      `);
    }

    function q4(){
      step = 4; setDots(step);
      transitionTo(`
        <h1>Travel time.</h1>
        <p>If you could book a trip <b>right now</b>:</p>
        <div class="btns">
          <button class="btnAlt" onclick="record('üèñ Beach trip', q5)">üèñ Somewhere with a beach</button>
          <button onclick="record('üèî Mountains & quiet views', q5)">üèî Mountains & quiet views</button>
          <button onclick="record('üèô Exploring a new city', q5)">üèô Exploring a new city</button>
          <button onclick="record('üß≥ Anywhere, just not home', q5)">üß≥ Anywhere, just not home</button>
        </div>
        <div class="footer">
          <span class="tiny">Passport not required for this quiz.</span>
          <span>4/5</span>
        </div>
      `);
    }

    function q5(){
      step = 5; setDots(step);
      transitionTo(`
        <h1>Final question.</h1>
        <p>When someone puts <b>unnecessary effort</b> into something like this, your first thought is:</p>
        <div class="btns">
          <button onclick="record('üòÑ ‚ÄúOkay, that‚Äôs kinda funny‚Äù', showFinal)">Okay, that‚Äôs kinda funny</button>
          <button class="btnAlt" onclick="record('ü´° ‚ÄúExtra, but I respect it‚Äù', showFinal)">Extra, but I respect it</button>
          <button onclick="record('üôÑ‚û°Ô∏èüôÇ ‚ÄúI rolled my eyes, then smiled‚Äù', showFinal)">I rolled my eyes, then smiled</button>
          <button onclick="record('üòå ‚ÄúI‚Äôm judging‚Ä¶ but not mad‚Äù', showFinal)">I‚Äôm judging‚Ä¶ but not mad</button>
        </div>
        <div class="footer">
          <span class="tiny">No wrong answers. Just vibes.</span>
          <span>5/5</span>
        </div>
      `);
    }

    function burstConfetti(){
      const c = document.getElementById("confetti");
      c.innerHTML = "";
      const colors = ["#ff2e79","#7c4dff","#ffd166","#06d6a0","#4cc9f0","#f72585"];
      for(let i=0;i<28;i++){
        const el = document.createElement("i");
        el.style.left = Math.random()*100 + "%";
        el.style.background = colors[Math.floor(Math.random()*colors.length)];
        el.style.animationDelay = (Math.random()*0.15) + "s";
        el.style.transform = `rotate(${Math.random()*60}deg)`;
        el.style.opacity = (0.75 + Math.random()*0.25).toString();
        c.appendChild(el);
      }
      setTimeout(()=>{ c.innerHTML=""; }, 1700);
    }

    function showFinal(){
      unlockAudioOnce();
      play("sWin");
      burstConfetti();

      const list = answers.map(a => `<div class="item">‚Ä¢ ${a}</div>`).join("");

      transitionTo(`
        <h1>Fair enough. üéâ</h1>
        <p>No trick. No follow-up question. No proposal. Relax.</p>
        <p><b>Your extremely scientific results:</b></p>

        <div class="results">
          ${list}
        </div>

        <p class="sub">Screenshot if you want. Or don‚Äôt. I‚Äôll survive.</p>

        <div class="btns">
          <button class="btnAlt" onclick="restart()">Do it again (for research)</button>
        </div>

        <div class="footer">
          <span class="tiny">Status: impressed (quietly)</span>
          <span>done</span>
        </div>
      `);
    }

    function restart(){
      step = 0; answers = []; setDots(step);
      transitionTo(`
        <h1>Important announcement.</h1>
        <p>This will take <b>exactly 15 seconds</b> and includes <b>zero life-changing decisions</b>.</p>
        <p class="sub">Tip: if sound doesn‚Äôt work on iPhone, unmute + tap once.</p>

        <div class="btns">
          <button class="btnAlt" onclick="q1()">I accept responsibility ‚Üí</button>
        </div>

        <div class="footer">
          <span class="tiny">Level: mildly sarcastic</span>
          <span>v1.2</span>
        </div>
      `);
    }
  </script>
</body>
</html>
