<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Very Serious Study</title>

  <style>
    :root{
      --bg1:#ff3d87;
      --bg2:#ffb3d1;
      --bg3:#6f4bff;
      --card: rgba(255,255,255,.78);
      --cardBorder: rgba(255,255,255,.35);
      --text:#1d1d1f;
      --muted:#5a5a66;
      --btn:#ff2e79;
      --btn2:#6f4bff;
      --shadow: 0 22px 70px rgba(0,0,0,.18);
    }

    *{ box-sizing:border-box; }
    html,body{ height:100%; }
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Apple Color Emoji","Segoe UI Emoji";
      color:var(--text);
      overflow:hidden;
      display:flex;
      align-items:center;
      justify-content:center;
      background:
        radial-gradient(1200px 600px at 15% 20%, rgba(255,255,255,.25), transparent 60%),
        radial-gradient(900px 500px at 85% 75%, rgba(255,255,255,.18), transparent 55%),
        linear-gradient(120deg, var(--bg1), var(--bg2), var(--bg3));
      background-size: 200% 200%;
      animation: bgShift 10s ease-in-out infinite;
      padding: 18px;
    }
    @keyframes bgShift{
      0%{ background-position: 0% 50%; }
      50%{ background-position: 100% 50%; }
      100%{ background-position: 0% 50%; }
    }

    .blob{
      position:absolute;
      filter: blur(22px);
      opacity:.45;
      border-radius: 999px;
      z-index:0;
      mix-blend-mode: screen;
      animation: floaty 10s ease-in-out infinite;
    }
    .b1{ width:270px; height:270px; left:-70px; top:50px; background:#fff; animation-duration: 11s; }
    .b2{ width:230px; height:230px; right:-90px; top:130px; background:#ffd6e7; animation-duration: 13s; }
    .b3{ width:300px; height:300px; right:10px; bottom:-140px; background:#cbb6ff; animation-duration: 15s; }
    @keyframes floaty{
      0%,100%{ transform: translate(0,0) scale(1); }
      50%{ transform: translate(18px,-14px) scale(1.05); }
    }

    .wrap{
      position:relative;
      width:100%;
      max-width: 440px;
      z-index:1;
    }

    .card{
      width:100%;
      background: var(--card);
      border: 1px solid var(--cardBorder);
      border-radius: 18px;
      box-shadow: var(--shadow);
      backdrop-filter: blur(14px);
      -webkit-backdrop-filter: blur(14px);
      padding: 22px 18px 16px;
      position: relative;
      animation: popIn .45s ease-out;
    }
    @keyframes popIn{
      from{ opacity:0; transform: translateY(14px) scale(.985); }
      to{ opacity:1; transform: translateY(0) scale(1); }
    }

    .confetti{
      position:absolute;
      inset:0;
      pointer-events:none;
      overflow:hidden;
      border-radius: 18px;
    }
    .confetti i{
      position:absolute;
      width:10px; height:14px;
      border-radius: 3px;
      top:-20px;
      opacity: .95;
      animation: fall 1.25s ease-in forwards;
      transform: rotate(10deg);
    }
    @keyframes fall{
      to{
        top: 110%;
        transform: translateY(0) rotate(250deg);
        opacity: 1;
      }
    }

    .topbar{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      margin-bottom: 10px;
    }
    .chip{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding: 8px 10px;
      border-radius: 999px;
      background: rgba(255,255,255,.55);
      border: 1px solid rgba(255,255,255,.35);
      font-weight: 800;
      font-size: 12px;
      color: rgba(20,20,25,.82);
      white-space: nowrap;
    }
    .rightTop{
      display:flex;
      gap:8px;
      align-items:center;
    }
    .dots{
      display:flex;
      gap:6px;
      align-items:center;
      padding: 8px 10px;
      border-radius: 999px;
      background: rgba(255,255,255,.55);
      border: 1px solid rgba(255,255,255,.35);
    }
    .dot{
      width:8px; height:8px; border-radius:999px;
      background: rgba(30,30,40,.25);
    }
    .dot.on{ background: rgba(30,30,40,.85); }

    .soundToggle{
      border: 1px solid rgba(255,255,255,.35);
      background: rgba(255,255,255,.55);
      border-radius: 999px;
      padding: 8px 10px;
      font-weight: 900;
      font-size: 12px;
      cursor: pointer;
      user-select: none;
      white-space: nowrap;
    }
    .soundToggle:hover{ filter: brightness(1.02); }

    h1{
      margin: 6px 0 6px;
      font-size: 22px;
      line-height: 1.15;
      letter-spacing: -0.2px;
    }
    p{
      margin: 8px 0;
      color: var(--muted);
      font-size: 14.5px;
      line-height: 1.35;
    }
    .sub{
      margin-top: 2px;
      font-size: 13px;
      color: rgba(60,60,70,.65);
    }

    .btns{
      margin-top: 14px;
      display:flex;
      flex-direction:column;
      gap:10px;
    }
    button{
      width:100%;
      border: 0;
      border-radius: 14px;
      padding: 12px 14px;
      font-size: 15.5px;
      font-weight: 900;
      cursor:pointer;
      transition: transform .08s ease, filter .18s ease, box-shadow .18s ease;
      color: white;
      background: linear-gradient(135deg, var(--btn), #ff6aa0);
      box-shadow: 0 10px 22px rgba(255, 46, 121, .25);
    }
    button:hover{ filter: brightness(1.03); box-shadow: 0 12px 26px rgba(255, 46, 121, .32); }
    button:active{ transform: translateY(1px) scale(.99); }

    .btnAlt{
      background: linear-gradient(135deg, var(--btn2), #a78bfa);
      box-shadow: 0 10px 22px rgba(111, 75, 255, .22);
    }
    .btnAlt:hover{ box-shadow: 0 12px 26px rgba(111, 75, 255, .30); }

    .footer{
      margin-top: 14px;
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap: 10px;
      padding-top: 10px;
      border-top: 1px solid rgba(255,255,255,.35);
      color: rgba(55,55,65,.65);
      font-size: 12px;
    }
    .tiny{ opacity:.9; font-weight: 800; }

    .slideOut{ animation: slideOut .16s ease-in forwards; }
    @keyframes slideOut{
      to{ opacity:0; transform: translateY(10px) scale(.99); }
    }

    .results{
      text-align:left;
      margin-top: 10px;
      background: rgba(255,255,255,.55);
      border: 1px solid rgba(255,255,255,.35);
      border-radius: 14px;
      padding: 12px;
      color: rgba(35,35,45,.9);
      font-size: 13.5px;
      line-height: 1.35;
    }
    .results .item{ margin: 6px 0; }
    .hintBox{
      margin-top: 10px;
      padding: 10px 12px;
      border-radius: 14px;
      background: rgba(255,255,255,.45);
      border: 1px solid rgba(255,255,255,.30);
      color: rgba(40,40,55,.78);
      font-size: 12.5px;
    }
    .toast{
      margin-top: 10px;
      font-size: 12.5px;
      color: rgba(40,40,55,.78);
      display:none;
    }
    .toast.show{ display:block; }
  </style>
</head>

<body>
  <div class="blob b1"></div>
  <div class="blob b2"></div>
  <div class="blob b3"></div>

  <div class="wrap">
    <div class="card" id="card">
      <div class="confetti" id="confetti"></div>

      <div class="topbar">
        <div class="chip">âœ¨ Mini Quiz</div>

        <div class="rightTop">
          <div class="dots" id="dots">
            <span class="dot on"></span>
            <span class="dot"></span>
            <span class="dot"></span>
            <span class="dot"></span>
            <span class="dot"></span>
            <span class="dot"></span>
          </div>
          <div id="soundToggle" class="soundToggle" onclick="toggleSound()">ðŸ”Š Sound</div>
        </div>
      </div>

      <div id="content">
        <h1>Quick thing.</h1>
        <p>This takes <b>15 seconds</b>. No awkward questions. No pressure.</p>
        <p class="sub">If sound doesnâ€™t work, youâ€™re probably on iPhone + silent mode. Happens.</p>

        <div class="btns">
          <button class="btnAlt" onclick="q1()">Start â†’</button>
        </div>

        <div class="footer">
          <span class="tiny">Level: harmlessly extra</span>
          <span>v2.0</span>
        </div>
      </div>
    </div>
  </div>

  <!-- Minimal sounds (user-controlled). Mobile may require a first-tap unlock. -->
  <audio id="sClick" preload="auto" playsinline>
    <source src="https://assets.mixkit.co/sfx/preview/mixkit-modern-click-box-check-1120.mp3" type="audio/mpeg">
  </audio>
  <audio id="sWin" preload="auto" playsinline>
    <source src="https://assets.mixkit.co/sfx/preview/mixkit-achievement-bell-600.mp3" type="audio/mpeg">
  </audio>

  <script>
    // ---------- state ----------
    let step = 0;
    const answers = []; // stored locally in the browser only

    // ---------- sound ----------
    let soundOn = true;
    let audioUnlocked = false;

    function toggleSound(){
      soundOn = !soundOn;
      const t = document.getElementById("soundToggle");
      if (t) t.textContent = soundOn ? "ðŸ”Š Sound" : "ðŸ”‡ Muted";
    }

    async function unlockAudioOnce(){
      if (audioUnlocked) return;
      audioUnlocked = true;

      const ids = ["sClick","sWin"];
      for (const id of ids){
        const a = document.getElementById(id);
        if (!a) continue;
        try{
          a.volume = 0.0; // silent unlock
          await a.play();
          a.pause();
          a.currentTime = 0;
          a.volume = 0.35;
        }catch(e){
          audioUnlocked = false; // retry next tap
        }
      }
    }

    function play(id){
      if (!soundOn) return;
      const a = document.getElementById(id);
      if (!a) return;
      a.currentTime = 0;
      a.volume = 0.35; // minimal
      a.play().catch(()=>{ audioUnlocked = false; });
    }

    // ---------- UI helpers ----------
    function setDots(n){
      const dots = document.querySelectorAll("#dots .dot");
      dots.forEach((d,i)=> d.classList.toggle("on", i <= n));
    }

    function transitionTo(html){
      const card = document.getElementById("card");
      const content = document.getElementById("content");
      card.classList.add("slideOut");
      setTimeout(()=>{
        content.innerHTML = html;
        card.classList.remove("slideOut");
      }, 170);
    }

    function addAnswer(q, a){
      answers.push({ q, a });
    }

    function choose(q, a, nextFn){
      unlockAudioOnce();
      play("sClick");
      addAnswer(q, a);
      nextFn();
    }

    // ---------- questions (5 total) ----------
    function q1(){
      step = 1; setDots(step);
      transitionTo(`
        <h1>Quick question.</h1>
        <p>You clicked this because:</p>
        <div class="btns">
          <button onclick="choose('You clicked this becauseâ€¦','Curiosity won', q2)">Curiosity won</button>
          <button onclick="choose('You clicked this becauseâ€¦','I like unnecessary things', q2)">I like unnecessary things</button>
          <button onclick="choose('You clicked this becauseâ€¦','I had 30 seconds to spare', q2)">I had 30 seconds to spare</button>
          <button class="btnAlt" onclick="choose('You clicked this becauseâ€¦','I respect the effort', q2)">I respect the effort</button>
        </div>
        <div class="footer"><span class="tiny">No wrong answer.</span><span>1/5</span></div>
      `);
    }

    function q2(){
      step = 2; setDots(step);
      transitionTo(`
        <h1>Fair.</h1>
        <p>Your vibe in new conversations is usually:</p>
        <div class="btns">
          <button onclick="choose('Your vibe isâ€¦','Chill and observant', q3)">Chill and observant</button>
          <button class="btnAlt" onclick="choose('Your vibe isâ€¦','Sarcastic but friendly', q3)">Sarcastic but friendly</button>
          <button onclick="choose('Your vibe isâ€¦','Quiet at first, then fun', q3)">Quiet at first, then fun</button>
          <button onclick="choose('Your vibe isâ€¦','Accidentally funny', q3)">Accidentally funny</button>
        </div>
        <div class="footer"><span class="tiny">Noted. Respectfully.</span><span>2/5</span></div>
      `);
    }

    function q3(){
      step = 3; setDots(step);
      transitionTo(`
        <h1>Be honest.</h1>
        <p>Your reaction to this page right now:</p>
        <div class="btns">
          <button onclick="choose('Your reaction isâ€¦','Smiling a little', q4)">Smiling a little</button>
          <button onclick="choose('Your reaction isâ€¦','Curious where this goes', q4)">Curious where this goes</button>
          <button class="btnAlt" onclick="choose('Your reaction isâ€¦','Laughing quietly', q4)">Laughing quietly</button>
          <button onclick="choose('Your reaction isâ€¦','Pretending Iâ€™m not impressed', q4)">Pretending Iâ€™m not impressed</button>
        </div>
        <div class="footer"><span class="tiny">I can work with that.</span><span>3/5</span></div>
      `);
    }

    function q4(){
      step = 4; setDots(step);
      transitionTo(`
        <h1>Quick vibe check.</h1>
        <p>If we kept talking, your energy would be:</p>
        <div class="btns">
          <button onclick="choose('If we kept talkingâ€¦','Playful + chill', q5)">Playful + chill</button>
          <button class="btnAlt" onclick="choose('If we kept talkingâ€¦','Curious but cautious', q5)">Curious but cautious</button>
          <button onclick="choose('If we kept talkingâ€¦','Chaos (but the fun kind)', q5)">Chaos (but the fun kind)</button>
          <button onclick="choose('If we kept talkingâ€¦','Dependsâ€¦ impress me', q5)">Dependsâ€¦ impress me</button>
        </div>
        <div class="footer"><span class="tiny">Fair standards.</span><span>4/5</span></div>
      `);
    }

    function q5(){
      step = 5; setDots(step);
      transitionTo(`
        <h1>Last one.</h1>
        <p>After this, your honest thought is:</p>
        <div class="btns">
          <button onclick="choose('Your honest thought isâ€¦','Okayâ€¦ this could be fun', showFinal)">Okayâ€¦ this could be fun</button>
          <button class="btnAlt" onclick="choose('Your honest thought isâ€¦','I donâ€™t know yet, but Iâ€™m curious', showFinal)">I donâ€™t know yet, but Iâ€™m curious</button>
          <button onclick="choose('Your honest thought isâ€¦','Unexpected, but Iâ€™d give it a chance', showFinal)">Unexpected, but Iâ€™d give it a chance</button>
          <button onclick="choose('Your honest thought isâ€¦','Not mad at this ðŸ˜„', showFinal)">Not mad at this ðŸ˜„</button>
        </div>
        <div class="footer"><span class="tiny">Thatâ€™s all. Promise.</span><span>5/5</span></div>
      `);
    }

    // ---------- confetti + results ----------
    function burstConfetti(){
      const c = document.getElementById("confetti");
      c.innerHTML = "";
      const colors = ["#ff2e79","#6f4bff","#ffd166","#06d6a0","#4cc9f0","#f72585"];
      for(let i=0;i<28;i++){
        const el = document.createElement("i");
        el.style.left = Math.random()*100 + "%";
        el.style.background = colors[Math.floor(Math.random()*colors.length)];
        el.style.animationDelay = (Math.random()*0.15) + "s";
        el.style.transform = `rotate(${Math.random()*60}deg)`;
        el.style.opacity = (0.75 + Math.random()*0.25).toString();
        c.appendChild(el);
      }
      setTimeout(()=>{ c.innerHTML=""; }, 1700);
    }

    function formatResultsText(){
      // Human-readable, easy to paste into chat
      return answers.map((x, i) => `${i+1}) ${x.a}`).join("\n");
    }

    async function copyResults(){
      const text = formatResultsText();
      try{
        await navigator.clipboard.writeText(text);
        showToast("Copied âœ… Now paste it in chat.");
      }catch(e){
        // Fallback for older browsers
        const ta = document.createElement("textarea");
        ta.value = text;
        document.body.appendChild(ta);
        ta.select();
        document.execCommand("copy");
        document.body.removeChild(ta);
        showToast("Copied âœ… Now paste it in chat.");
      }
    }

    function showToast(msg){
      const t = document.getElementById("toast");
      if (!t) return;
      t.textContent = msg;
      t.classList.add("show");
      setTimeout(()=> t.classList.remove("show"), 2500);
    }

    function showFinal(){
      unlockAudioOnce();
      play("sWin");
      burstConfetti();

      // Pretty list for screen
      const listHtml = answers.map(x => `<div class="item">â€¢ <b>${x.a}</b></div>`).join("");

      transitionTo(`
        <h1>Thatâ€™s it.</h1>
        <p>No trick. No follow-up question.</p>

        <p>
          Hope this made you pause for a second  
          and smile â€” that was the whole point.
        </p>

        <div class="results">
          ${listHtml}
        </div>

        <div class="hintBox">
          If you want me to see your answers, tap <b>Copy results</b> and paste them in chat.
          (Nothing gets sent automatically. Promise.)
        </div>

        <div class="btns">
          <button class="btnAlt" onclick="copyResults()">Copy results</button>
          <button onclick="restart()">Do it again (for research)</button>
        </div>

        <div id="toast" class="toast"></div>

        <div class="footer">
          <span class="tiny">Relaxed + fun energy</span>
          <span>done</span>
        </div>
      `);
    }

    function restart(){
      step = 0;
      answers.length = 0;
      setDots(step);
      transitionTo(`
        <h1>Quick thing.</h1>
        <p>This takes <b>15 seconds</b>. No awkward questions. No pressure.</p>
        <p class="sub">If sound doesnâ€™t work, youâ€™re probably on iPhone + silent mode. Happens.</p>

        <div class="btns">
          <button class="btnAlt" onclick="q1()">Start â†’</button>
        </div>

        <div class="footer">
          <span class="tiny">Level: harmlessly extra</span>
          <span>v2.0</span>
        </div>
      `);
    }
  </script>
</body>
</html>
